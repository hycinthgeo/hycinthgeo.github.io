<!DOCTYPE html>
<html lang="en">
  <p> Earthquake-Active Faults (California and Nearby States) </p>
  <head>
    <meta charset="utf-8">
    <title>Mercator projection</title>
    <script src="https://d3js.org/d3.v3.min.js" charset="utf-8"></script>
    <style>
      body {
        background-color: gray;
        margin: 1em auto;
        width: 500px;
      }
      svg {
        background-color: white;
      }
      /*g path {
        fill: none;
        stroke: #2E9C32;
      }*/
    </style>
  </head>
  <body>
    <script>
      //Width and height
      var w = 500;
      var h = 300;

      //Define map projections
      var mercator = d3.geo.mercator()
        .center([ -120, 38 ])
        .translate([ w * 0.5, h * 0.6 ])
        .scale([ w * 2 ]);
      
      //Define path generators
      var generator = d3.geo.path().projection(mercator);

      //Very ugly place holder for Zoom in 
      d3.select("body")
      .append("svg")
      .attr("width", "100%")
      .attr("height", "100%")
      .call(d3.behavior.zoom().on("zoom", function () {
        svg.attr("transform", "translate(" + d3.event.translate + ")" + " scale(" + d3.event.scale + ")")
      }));

      var svg = d3.select("body")
        .append("svg")
        .attr("width", w)
        .attr("height", h);

      //Load in GeoJSON data
      d3.json("replace.geojson", function(json) {
        svg.append("g").selectAll("path")
          .data(json.features)
          .enter()
          .append("path").attr("stroke", "blue").attr("fill", "none")
          .attr("d", generator);
      });
          /*.on("mouseover", function(d) {    
            div.transition()    
                .duration(200)    
                .style("opacity", .9);    
            div .html(d.name + "<br/>"  + d.STATEFP)  
                .style("left", (d3.event.pageX) + "px")   
                .style("top", (d3.event.pageY - 28) + "px");  
            })          
          .on("mouseout", function(d) {   
            div.transition()    
                .duration(500)    
                .style("opacity", 0); 
        });*/



      d3.json("states2017_or.geojson", function(json) {
        svg.append("g").selectAll("path")
          .data(json.features)
          .enter()
          .append("path").attr("stroke", "blue").attr("fill", "none")
          .attr("d", generator);
      });
      d3.json("states2017_nv.geojson", function(json) {
        svg.append("g").selectAll("path")
          .data(json.features)
          .enter()
          .append("path").attr("stroke", "blue").attr("fill", "none")
          .attr("d", generator);
      });

      d3.json("faults_earthquake_active.geojson", function(json) {
        svg.append("g").selectAll("path")
          .data(json.features)
          .enter()
          .append("path").attr("stroke", "red")
          .attr("d", generator);

      });


      //project earthquake points






    </script>
  </body>
</html>