<!DOCTYPE html>
<html lang="en">
  <p style="font-size:160%; color:white;"> Earthquake-Active Faults (California and Nearby States) temp-more earthquake6</p>
  <head>
    <meta charset="utf-8">
    <title>Mercator projection</title>
    <script src="https://d3js.org/d3.v3.min.js" charset="utf-8"></script>
    <style>
    path {
      fill: #ccc;
      stroke: #fff;
      stroke-width: .5px;
    }
    path:hover {
      fill: orange;
    }
    body {
      text-align: center;
    }
		div.tooltip { 
			position: absolute;     
			text-align: center;     
			width: 80px;          
			height: 14px;         
			padding: 2px;       
			font: 12px sans-serif;    
			background: #fff; 
			border: 0px;        
			pointer-events: none;     
		}
	</style>
  </head>


<body>
    <script src="//d3js.org/topojson.v1.min.js"></script>
    <script>
      var width = 600,
          height = 500;

      var projection = d3.geo.mercator()
          .center([ -120, 38 ])
          .translate([ 200, height * 0.5 ])
          .scale([ 2000 ]);
      var generator = d3.geo.path().projection(projection);

      var svg = d3.select("body").append("svg")
          .attr("width", width)
          .attr("height", height);    

      var tooltip = d3.select("body").append("div") 
          .attr("class", "tooltip")       
          .style("opacity", 0);

      
      var url_counties = "https://github.com/hycinthgeo/hycinthgeo.github.io/blob/master/data_geojson/county2017_ca.geojson"
      var local_path = "data_geojson/county2017_ca.geojson"
      d3.json(local_path, function(json) {
        svg.append("g").selectAll("path")
          .data(json.features)
          .enter()
          .append("path").attr("stroke", "gray").attr("fill", "none")
          .attr("d", generator)
          .on("mouseover", function(d) {    
            tooltip.transition()    
            .duration(200)    
            .style("opacity", .9);    
            tooltip.html(d.properties.NAME)  
            .style("left", (d3.event.pageX) + "px")   
            .style("top", (d3.event.pageY - 28) + "px");  
          }) 
          .on("mouseout", function(d) {   
            tooltip.transition()    
            .duration(500)    
            .style("opacity", 0); 
          });
      });
    </script>
</body>

</html>